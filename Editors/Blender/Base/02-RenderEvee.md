# Evee

# Отражения

Для Evee это маленькая драмма, и есть два варианта сделать отражения. Можно запечь отражения используя Reflection Cubemap или использовать Screen Space Reflection

## Reflection Plane

Производительный вариант отражений. Но только для плоскостей:

````bash 
Areas -> 3D Viewport | /*Top Panel*/ |   View   |   ...         |   Reflection Cubemap |
                                     |   Select |   Light       | > Reflection Plane   |
                                     | > Add    | > Light Probe |   Irradiance Volume  |
                                     |   ...    |   ...         |   ------------------ |
````

Устанавливаем появившуюся плоскость параллельно плоскости, в которой должно быть отражениею. Профит!
Иногда отражения не появляются, нужно чуть-чуть погонять плоскость вверх вниз, пока отражение не пявится

Настройки находятся в пункте:

````bash 
Areas -> Properties |   ...        | > Probe            |
                    | > Data       |   Custom Paralax   |
                    |   Texture    |   Viewport Display |
                    |   ---------- |   ---------------- |
````

Настройки:
- Distnce - размер для плоскости, все плоскости которые в него попаи начинают отражать запеченное отражение
- Falloff - определяет "размытость" края отржаения
- Clipping offset - определяет начало рендера. Объекты в пределах рендера запекутся в рендер отражения, а за пределами - нет
- Visibillity Collection - только коллекция которую сюда добавишь, будет запечена в отражение. Нажмешь на стрелочку рядом и все объекты кроме находящихсяв коллекции будут запечены

## Reflection Cubemap 

Производительный вариант отражений. Но иногда отржаения при высоких углах "плывут"

Создаем Reflection Cubemap:

````bash 
Areas -> 3D Viewport | /*Top Panel*/ |   View   |   ...         | > Reflection Cubemap |
                                     |   Select |   Light       |   Reflection Plane   |
                                     | > Add    | > Light Probe |   Irradiance Volume  |
                                     |   ...    |   ...         |   ------------------ |
````

Размещаем созданный Reflection Cubemap. Настройки находятся в пункте:

````bash 
Areas -> Properties |   ...        | > Probe            |
                    | > Data       |   Custom Paralax   |
                    |   Texture    |   Viewport Display |
                    |   ---------- |   ---------------- |
````

Настройки:
- Type - Box или Sphere. Внутри куба или сферы который ты видишь, запеченное отражение будет, вне него не будет
- Radius - размер для Type
- Falloff - определяет "размытость" края отржаения
- Intesity - делает отражение либо светлым либо темным. При нуле просто чернота
- Clipping Start / Clipping End - определяет начало и конец рендера. Короче, если во Viewport Display ткнуть галочку напротив Clipping, то увидишь полоски. Объекты в пределах этих полосок запекутся в рендер отражения, а за пределами - нет
- Visibillity Collection - только коллекция которую сюда добавишь, будет запечена в отражение. Нажмешь на стрелочку рядом и все объекты кроме находящихсяв коллекции будут запечены

## Screen Space Reflection 

Отражения ВЕЗДЕ! Но, во первых они шумные, а во вторых там используется хитрый способ, из картинки которую отрендерели и карты глубины, поэтому объекты которые не видн и не отражаются ) В общем мыло мыльное )

````bash 
Areas -> Properties |   Tool   |   ...                     |
                    | > Render |   Subsurfave Scattering   |
                    |   Output | > Screen Space Reflection |
                    |   ...    |   ...                     |
````

Поставил галку - радуйся жизни

Из настроек можно отметить:
- Refraction - влияние приломления на картинку
- Half Res Trace - уменьшает число лучей рендера вдвое => больше мыла

# Свет и тени

## Свечение(Bloom)

Под свечением подразумевается что-то вроде светодиодных ламп

Чтобы у объекта появилось свечение, нужен настроить материал. Например есть специальный материал Emission, либо чеез свойство Emission

Включаем рендер свечения:

````bash 
Areas -> Properties |   Tool   |   ...               |
                    | > Render |   Ambient Occlusion |
                    |   Output | > Bloom             |
                    |   ...    |   ...               |
````

Настройки там понятные

## Удаляем глобальный свет 

В Blender по умолчанию есть глобальный свет для всех объектов. Поэтому даже без источников светов, во время рендера есть свет и все видно

Чтобы убрать/откоректировать глобальный свет заходим:

````bash 
Areas -> Shader Editor | /*Top Panel*/ |   Object     |
                                       | > World      |
                                       |   Line Style |
                                       |   ---------- |
````

В открывшемся окне в node с названием Background меняет Color и Strength на какой надо

## Контактные тени(Ambient Occlusion)

Создает контакные тени между объектами и на самопересечении объектов. Все по классике рисования:

````bash 
Areas -> Properties |   Tool   |   Sampling          |
                    | > Render | > Ambient Occlusion |
                    |   Output |   Bloom             |
                    |   ...    |   ...               |
````

Ставим галочку у самого Ambient Occlusion и в настройках поправляем Distance(размер тени) и Factor(Яркость тени)

## Делаем фон прозрачным

Тыкаем на галочку Transperent: 

````bash
Areas -> Properties |   Tool   |   ...               |   Filter Size
                    | > Render |   Indirect Lighting | > Transperent
                    |   Output | > Film              |   Overscan
                    |   ...    |   ...               |
````
