# Vim и NVim

Ниже будет использоваться некоторые подмены, чтобы это можно было хоть как-то описать

|Подмена      |Смысл подемены            |
|:------------|:-------------------------|
|<text>       | какой-то текст           |
|<symbol>     | какой-то текстовый символ|
|<navigation> | символ навигации         |
|<selection>  | символ навигации         |
|<registor>   | регистор                 |
|<n>          | число                    |
|_            | одиночный символ         |

# Undo/Redo

## Undo(отмена)

````bash
u
````

## Redo(возврат)

````bash
ctrl+r 
````

# Delete

## Удалить строку

````bash
dd
````

## Удалить выделенное

````bash
<selection>d
````

## Удалить то что хочется

````bash
d<navigation>
d$
df_
...
````

# Selecte 

# Select(Выделение)

````bash
v 
````

# Select Lines(Выделение построчно)

````bash
V 
````

# Select Square(Выделение прямоугольником)

````bash
<CTRL>v 
````

# Copy/Paste

## Copy(копировать)

````bash
y 
````

## Paste(вставить)

````bash
p 
````

## Paste(вставить буз замены в буффере)

````bash
/p 
````

## Копировать строку

````bash
yy
````

# Macro

## Записать макрос

````bash
q<registor>
````

## Дописать макрос

<registor> - заглавная буква

````bash
q<registor>
````

## Запустить макрос

````bash
@<registor>
````

## Запустить макрос n раз

````bash
<n>@<registor>
````

# Работа с макросом как с текстом

## Выводим то что записано в регистре

````bash
"<register>p
````

## Копируем в регистор выделенное

````bash
"<register>y
"<register>d
````

## Паралельный запуск макроса

Иногда полезно запускать выполнение макроса не последовательно, а параллельно (этот трюк я подсмотрел в Vim Edit Text at the Speed of Thought)

Можно выделить последовательность строк с помощью V. И прописать:

````bash 
:'<,'>normal @a
````

# Navigation

## Перемещение по словам/знакам

Предыдущее слово

````bash
b
````

Следующее слово

````bash
w
````

Конец следущего слова

````bash
e
````

## Перемещение по словам

Предыдущее слово. Деление только по пробелам

````bash
B
````

Следующее слово. Деление только по пробелам

````bash
W
````

Конец следущего слова. Деление только по пробелам

````bash
E
````

## Перемещение к символу

Поиск символа в строке

````bash
f_

t_
````

Поиск(в другую сторону) символа в строке

````bash
F_

T_
````

Бытрое перемещение к символу в пределах экрана (прикол добавлен плагином)

````bash
//s
````

Перейти к символу n в файле

````bash
:noraml! 0go<n> "
````

Перейти к символу n1+n2 в файле

````bash
:noraml! <n1>go<n2> "
````

## Переход в начало/конец строки

Переходим в начало строки

````bash
0
````

Переходим в конец строки

````bash
$
````

Первый не пустой символ. В этой строке

````bash
^
````

Первый не пустой символ. Предыдущей строке

````bash
-
````

Первый не пустой символ. Следующей строке

````bash
+
````

## Перейти к началу/концу  параграфа/блока

Перейти к началу параграфа

````bash
{
````

Перейти к концуо параграфа

````bash
}
````

К блоку относятся кавычки [({})]
С плагинами так же за конец и начало блока считается html тег

````bash
%
````

## Перейти в начало/конец  предложения/файла 

Перейти в начало предложения

````bash
(
````

Перейти в конец предложения

````bash
)
````

Переход в начало файла

````bash
gg
````

Переход в конец файла

````bash
G
````

## Видимая область

Переместить курсор вверх видимой области

````bash
H
````

Переместить курсор вверх видимой области

````bash
L
````

Центрировать область видимости по курсору

````bash
M
````

## Перейти к строке/столбцу n

Перейти к строке n

````bash
<n>G
````

Перейти к столбцу n

````bash
<n>|
````

# Mark(закладки)

Поставить mark 

````bash
m<register>
````

Перейти к поставленной mark

````bash
`<register>
````

Перейти к месту где редактировали в последний раз

````bash
`.
````

# Поиск

## Поиск по файлу

Поиск подстроки вниз по тексту. Вводим искомый текст и жмем enter

````bash
/<text>
````

Поиск подстроки вверх по тексту. Вводим и искомый текст и жмем enter

````bash
?<text>
````

Переходим к предыдущему вхождению

````bash
n
````

Переходим к следующему вхождению

````bash
N
````

Быстрый поиск. Найти вхождение слова под курсором

````bash
*
````

Быстрый поиск в обратном направлении. Найти вхождение слова под курсором

````bash
#
````

Убрать подсветку найденного 

````bash
:noh
````

## vimgrep 

Есть несколько комманд для поиска:
- vim[grep] - встроен в vim. Если файл уже в буффере, то не открывает его, ииз-за чего работает быстрее
- vimgrepa[dd] - встроен в vim. Добавляет к текущим результатам поиска, новые наденные результаты
- grep - использует внешнюю утилиту, из Linux

Для встроенного в vim утилиты grep'а можно установить игнорируемые файлы

````bash 
set wildignore*.html,*.txt        - устанавливаем игнор фалов с расширением html и txt
set wildignore+=*/node_modules/*  - устанавливаем игнор папки node_modules
set wildignore=                   - очищаем игнорируемые файлы
````

Работа с результатами поиска 

````bash 
:copen      - красивое окошечко(quickfix) с рез поиска
:cclose     - закрыть окно(quickfix) с рез поиска
:cnext      - следующее совпадение
:cprevious  - предыдущее совпадение
````

Поиск фразы text в открытом файле 

````bash 
:vim /text/ %
````

Флаги:
- без флага g поиск отображает по одному совпадению в строке. С флагом g все найденные совпадения в строке отображаются
- без флага j переходит к первому совпдаению. С флагом j нет перехода

````bash 
:vim /text/g %
:vim /text/j %
:vim /text/jg %
````

Поиск фразы text во всех js файлах(первого уровня иерархии) папки md. Путь относительно :pwd 

````bash 
:vim /text/ md/*.js
````

Поиск фразы text во всех js файлах папки md. Поиск идет рекурсивно по всем папкам 

````bash 
:vim /text/ md/**/*.js
````

Поиск фразы text во всех js и html файлах(первого уровня иерархии) папки md/Editors/vim. Тут две команды делают одно и тоже 

````bash 
:vim /text/ md/Editors/vim/*.js md/Editors/vim/*.html
:vim /text/ md/Editors/vim/*{js,html}
````

# Замена

В первой строке делаем замену руками. Во второй строке повторяем операцию

````bash
c<navigtion><text>
.
````

__<find text>__ - искомый текст(regexp)

__<replace text>__ - текст на который меняем(regex)

__<flags>__ - флаги

|код|расшифровка|
|:--:|:--|
|i|игнорировать регистр букв|
|g|все вхождения. Без этого флага только первое вхождение|
|c|спрашивать подтверждения замены|
|I|игнорировать регистр букв|

## Замена текста

Замена текста в строке

````bash
:s/<find text>/<replace text>/<flags>
````

Замена текста во всем файле

````bash
:%s/<find text>/<replace text>/<flags>
````

Заменить текст в выделенном блоке
````bash
:'<,'>s/<find text>/<replace text>/g
````

Заменить текст с 6 по 10 строку

````bash
:6,10s/<find text>/<replace text>/g
````

## Дополнительно

Вставляет текст из регистра

````bash
ctrl+r<register>
````

Вставляет скопироанный текст

````bash
ctrl+r"
````

# Табы

## Список табов

````bash
:tabs
````

## Перейти к табу на позиции n

````bash
<n>gt
````

## Перейти к следующему табу

````bash
gt
````

## Перейти к предыдущему табу

````bash
gT
````

## Создать новый таб с открытым текущим файлом

````bash
:tabe %
````

# Командная строка

Работа с терминалом

Команда которая выполняется не в командной строке vim'а терминале

````bash
:!<....>
````

Вставляет текст из регистра

````bash
ctrl+r<register>
````

Вставляет скопироанный текст

````bash
ctrl+r"
````

Вставить результат работы терминала в редактируемый файл

````bash
:read !<...>
````

Команды для vim'а

Закрыть таб

````bash
:q
````

Закрыть НАСИЛЬНО без сохранения

````bash
:q!
````

Записать файл

````bash
:w
````

Записать файл и выход

````bash
:wq
ZZ
````

Путь к текущей папке

````bash
:pwd
````

Меняем root путь

````bash
:cd
````

Просматриваем файлы в папке

````bash
:ls
````

Убрать подсветку искомой подстроки

````bash
:noh
````

# config

Файл по указонному пути как конфиг для vim'а

````bash
:source <path>
````

Открытый файл как конфиг для vim'а

````bash
:source % - use current file like confg for vim
````

## vim-plug

Менеджер плагинов. В config файле надопрописать блок кода, типа такого:

````
call plug#begin('~/.vim/plugged')
Plug 'tpope/vim-commentary'
call plug#end()
````

После достаточно вызвать

````bash
:PlugInstall
````

## NERDTree

Крутой плагин, позволяет открыть дерево файлов и работать с ним внутри vim

Открыть/Закрыть дерево:

````bash
ctrl + n 
````

Комнады плагина (в открытом дереве)

````bash
? 
````

Создать/Переместить/Удалить файлы и папки

````bash
m 
````

## vim-commentary

Единственное что нужно знать

````bash
gcc
````

## vim-easymotion

Быстрое перемещение по видимой части файла. После надо нажать символ на коотрый хотим перемеситься, и возможно еще подсвеченный символ 

````bash
//s 
````

# Termux

Поскольку я использую Vim под Termux'ом, то я решил создать раздельчик тут:

## Работа с терминалами

Перейти к следующему/предыдущему терминалу:

````bash 
ctrl + alt + Up/Down
````

Создать новый терминал:

````bash 
ctrl + alt + C
````
